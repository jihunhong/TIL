---
layout: post
date: 2019-05-12T22:37:14+09:00
title:  "ìºì‹œì™€ ìŠ¤í† ë¦¬ì§€"
categories:
- TIL
- Server
tags:
- Cache
- Storage
thumbnailImage : http://www.storestuff.com.au/wp-content/uploads/2014/05/download.png
thumbnailImagePosition: "left"
---
â˜• ìºì‹œì™€ ìŠ¤í† ë¦¬ì§€
<!--more-->


### HDD SSD NVMe
![enter image description here](https://yoloprogramming.com/image.axd?picture=/article_images/m2_pcie_upgrade/hdd_compare.png)

## ì‚¬ìš©ì ìºì‹œ, DB ìºì‹œ, ì–´í”Œë¦¬ì¼€ì´ì…˜ ìºì‹œ

- HDDì— ìºì‹œë¥¼ ì €ì¥í•˜ë©´ ëŠë¦¬ê¸° ë•Œë¬¸ì— ì£¼ë¡œ ë©”ëª¨ë¦¬ì— ì €ì¥í•œë‹¤.

- DBì˜ ê²½ìš°ëŠ” HDDì— ì €ì¥í• ìˆ˜ ë°–ì— ì—†ëŠ” ì¼€ì´ìŠ¤.

- Redis, Memcahced : ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì €ì¥ë˜ëŠ” ìºì‹œ

### ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ìˆë˜ ìºì‹œì˜ ì¦ê°€
- ë™ê¸°í™”
	- hashkey?ë¥¼ ì´ìš©
		- ê¸°ì¡´ì—ìˆë˜ ìºì‹œëŠ” expire(ë§Œë£Œ), ì£¼ê¸°ì ìœ¼ë¡œ ìª¼ê°œê¸°?


- ëª¨ë“ˆë³„, ê¸°ëŠ¥ë‹¨ìœ„ë³„ ìºì‹œë¥¼ ë§Œë“œëŠ” ê²½ìš°ë„ ìˆë‹¤

## Reverse Proxy

### Vanish
![enter image description here](https://blog.lael.be/wp-content/uploads/2015/10/varnish-apache-gootum.png)

- ì–´ë–¤ ì‘ë‹µê°’ì— ëŒ€í•´ì„œ

### restful api ìºì‹œ
ëª¨ë“ˆí™”ë¥¼ ì˜í•´ë†”ì•¼ ì´ìš©ì´ ì‰½ë‹¤.



# â˜ï¸ Storage
> ê¸°ì¡´ì˜ ë””ìŠ¤í¬ì™€ëŠ” ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ í´ëŸ¬ìŠ¤í„°ë¡œ êµ¬ì„±ëœ ì—¬ëŸ¬ê°œì˜ ë””ìŠ¤í¬ë¥¼ ì´ìš©í•´ êµ¬ì„±ëœ ê²ƒ?

	- Replica : ë˜‘ê°™ì€ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ê°œ ë³µì œ
	- Shard   : ë¶„ì‚°, í•˜ë‚˜ì˜ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ê°œë¡œ ë‚˜ëˆ„ì–´ì„œ ì €ì¥í•œëŠê²ƒ

**`Replication + shard`** => í•˜ë‚˜ì˜ DISKê°€ ì£½ì–´ë„ ë‹¤ë¥¸ê³³ì—ì„œë„ ë°ì´í„°ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.

---

## Storage ë¶„ë¥˜

![enter image description here](https://cdn-images-1.medium.com/max/800/1*wbpNIDluXRa6aV26tpbwbQ.gif)

- íŒŒì¼ ìŠ¤í† ë¦¬ì§€
 	- íŒŒì¼ë””ë ‰í„°ë¦¬ êµ¬ì¡°ë¡œ ëœ ìŠ¤í† ë¦¬ì§€
	- ê¸°ì¡´ íŒŒì¼ì‹œìŠ¤í…œê³¼ í˜¸í™˜ì„±ì„ ê°–ëŠ”ë‹¤.
	- ë™ì‹œ ì“°ê¸° ì½ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤

<br>

- ì˜¤ë¸Œì íŠ¸ ìŠ¤í† ë¦¬ì§€
	- S3 (ì´ë¯¸ì§€ì— ì í•©)
	- ë¬¼ë¦¬ì ì¸ ì œì•½ì´ ì—†ëŠ” ë…¼ë¦¬ì  ìŠ¤í† ë¦¬ì§€

<br>

- ë¸”ë¡ ìŠ¤í† ë¦¬ì§€
	- ë™ì‹œ ì½ê¸° ì“°ê¸°ê°€ ë¶ˆê°€ (DB)



<!-- #### ğŸ”—  LINKS
[Vanishë¡œ ì›¹ì„±ëŠ¥ í–¥ìƒì‹œí‚¤ê¸°](https://www.slideshare.net/deview/hello-world-varnish)
[Memcahced, Redis](https://brownbears.tistory.com/43) -->

# JavaConfig

1. Maven Project ìƒì„±
2. POM ì„¤ì •
3. web.xml
   SQLSession > Repository >  Service >  Controller

4. AppConfig ì„¤ì •
`ğŸ“ApplicationContext.xml` ì˜ ë‚´ìš©ì„ ë°›ëŠ” í´ë˜ìŠ¤
```
	|--- DBConfig: DataSource
	|       |--- jdbc.properties
	|
	|--- MyBatisConfig: SqlSession, SqlSessionFactory
```
5. WebConfig
`ğŸ“servlet-context.xml `ì„ ë°›ì€ í´ë˜ìŠ¤
```
	|--- MVCConfig
	|--- SecurityConfig
	|--- MessageConfig
	|--- FileUploadConfig
```
6. GlobalExceptionHandler

7. slf4j, Logback

- ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì„±
```
 /WEB-INF
	|--- /classes [src/main/java, src/main/resource, src/test/java, src/test/resources]
			|--- /com
					|--- /cafe24
							|--- /mysite
							|		|--- /config
							|				|--- AppConfig
							|				|--- WebConfig
							|
							|--- /config
									|--- /app
									|		|--- DBConfig
									|		|--- MyBatisConfig
									|		|--- /mybatis
									|		|		|--- configuration.xml
									|		|		|--- /mappers
									|		|		|		|--- user.xml
									|		|		|		|--- ....
									|		|--- /properties
									|		|		|----- jdbc.propeties
									|--- /web
									|		|--- MVCConfig
									|		|--- SecurityConfig
									|		|--- MessageConfig
									|		|--- FileUploadConfig
									|		|--- /messages
									|		|		|---- messages_ko.properties
									|		|--- /properties
									|		|		|---- multipart.properties 		         

```							

# InitializerConfig
![spring-mvc-initializer](https://i.imgur.com/cj2PnUF.png)
- `ServletContainerInitializer`ë¥¼ êµ¬í˜„í•˜ê³ ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ì°¾ì•„ ë©”ì„œë“œë¥¼ í˜¸ì¶œ (Spirngì´ ê´€ì—¬)
- í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´
- `WebApplicationInitializer` ì˜ onStartup ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— (ê° Appë§ˆë‹¤ ìœ ë™ì ì¸ ì½”ë“œ ë•Œë¬¸ì—) ì¶”ìƒí™” ë˜ì–´ìˆëŠ” `AbstractAnnotationConfigDispatcherServletInitializer`ë¥¼ ìƒì†ë°›ì•„ `Appconfig`ê³¼ `WebConfig.class`ì˜ ì—­í• ë“¤ì„ êµ¬í˜„í•œë‹¤.
```java
@Override
protected Class<?>[] getRootConfigClasses() {
	return new Class<?>[] {AppConfig.class};
  // ApplicationContext
}
```

```java
@Override
protected Class<?>[] getServletConfigClasses() {
	return new Class<?>[] {WebConfig.class};
  // servlet-context
}

```

**âœ”ï¸ WebConfig(servlet-context.xml)ì—ì„œ ViewResolverë¥¼ êµ¬í˜„í•˜ë ¤ë©´ `createDispatcherServlet()`ë¥¼ êµ¬í˜„í•´ì•¼í•¨**

```java
@Override
protected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {
	DispatcherServlet dispatcherServlet = (DispatcherServlet) super.createDispatcherServlet(servletAppContext);
	dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);
	return dispatcherServlet;
}
```

# ğŸ“– Pagination

pagination êµ¬í˜„ì„ í• ë•Œë§ˆë‹¤ í•­ìƒ ì±…ì„ ì°¸ê³ í•˜ê²Œë˜ì„œ ì£¼ë§ì— ì •ë¦¬í•´ë³´ê³ ì í¬ìŠ¤íŒ…ì„ ë‚¨ê²¨ë³¸ë‹¤.

paginationì€ ë§Œë“œëŠ” ë°©ë²•ê³¼ í˜•íƒœë„ ì—¬ëŸ¬ê°€ì§€ì§€ë§Œ

ì´ë²ˆì— ì •ë¦¬í•˜ëŠ” ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ì´ ë‹¤ìŒ ë‹¨ìœ„ë¡œì˜ ì´ë™ì´ prev, next ë²„íŠ¼ì´ ìˆê³ 

ì»¨í…ì¸ ì˜ ì–‘ì˜ ë”°ë¼ ìƒì„±ì´ ë™ì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ëŠ” ê²ƒìœ¼ë¡œ êµ¬ì„±í–ˆë‹¤.

![ìº¡ì²˜](https://t1.daumcdn.net/cfile/tistory/9949DA3A5C67878318)
 ğŸ”–[ Spring ë¸”ë¡œê·¸ ë§Œë“¤ê¸° - 9. í˜ì´ì§•(pagination](https://freehoon.tistory.com/112)


## Page ê°ì²´

Page ê°ì²´ì˜ êµ¬ì„±ì—ì„œ í”„ë¡œê·¸ë˜ë¨¸ê°€ ì²˜ìŒ ì§€ì •í•´ì£¼ëŠ” ê°’ì€ ë‘ê°€ì§€ê°€ ìˆë‹¤.

- DisplayPageNum : ì´ì „ì˜ ì˜ˆë¡œë“  í˜ì´ì§€ì˜ ìˆ«ì ë‹¨ìœ„ ì‚¬ì§„ì—ì„œëŠ” 5ë¡œ ì§€ì •ë˜ì—ˆë‹¤.
- ContentsPerPage : í•˜ë‚˜ì˜ í˜ì´ì§€ì— ì¡´ì¬í•˜ëŠ” ì»¨í…ì¸ ì˜ ì–‘

ì°¸ê³ í–ˆë˜ ì±…ì˜ ë³€ìˆ˜ ì´ë¦„ì€ `DisplayPageNum` `PerPageNum` ì´ì—ˆëŠ”ë° ë³€ìˆ˜ ì´ë¦„ì´ ë¹„ìŠ·í•´ì„œ ì´ë ‡ê²Œ ë°”ê¿¨ë‹¤.

paginationì€ ì»¨í…ì¸ ì˜ ì–‘ì„ í†µí•´ ì´ë£¨ì–´ì§€ë©°

### EndPageì™€ StartPage

startPageì™€ endPageì˜ ê³„ì‚°ì„ ì›¹í˜ì´ì§€ì˜ ê°±ì‹ ë§ˆë‹¤ ì´ë£¨ì–´ì§€ëŠ”ê²ƒìœ¼ë¡œ ìƒê°í•˜ì.

```python
endPage = int((math.ceil(self.currentPage / float(self.DisplayPageNum))) * self.DisplayPageNum)
```

startPageì˜ ê³„ì‚°ì„ ì‰½ê²Œ í•˜ê¸° ìœ„í•´ endPageë¥¼ ë¨¼ì € ê³„ì‚°í–ˆë‹¤.

ì²˜ìŒ ê³„ì‚°í•˜ê²Œ ë˜ëŠ” ë‹¤ìŒ ì½”ë“œëŠ”

```python
int((math.ceil(self.currentPage / float(self.DisplayPageNum)))
```

currentPageê°€ ë³€ìˆ˜ë¡œ ë“¤ì–´ì˜¤ëŠ” ì½”ë“œë¡œì„œ ì‹¤ì œ ë³´ì´ê²Œ ë˜ëŠ” pageë“¤ì˜ ë‹¨ìœ„? ë¥¼ ì •í•˜ê¸° ìœ„í•œ ê³„ì‚°ì´ë¼ê³  ìƒê°í•˜ì

ë‹¨ìœ„ë¥¼ ì •í•œ í›„ `DisplayPageNum`ë¥¼ ê³±í•´ í•´ë‹¹ page ë‹¨ìœ„ì˜ endPageë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.

endPageë¥¼ êµ¬í–ˆë‹¤ë©´ startPageëŠ” ì‰½ë‹¤

```python
self.startPage = (self.endPage - self.displayPage) + 1
```

### Next ì™€ Prev íŒë³„

`Prev`ê°€ ìˆì–´ì•¼ í•˜ëŠ” ê²½ìš°ì— ê´€í•œ íŒë‹¨ì€ 1 í˜ì´ì§€ê°€ ì•„ë‹Œ ê²½ìš° í•­ìƒ prevê°€ ì¡´ì¬í•˜ëŠ”ê²ƒìœ¼ë¡œ íŒë‹¨í–ˆë‹¤.
```python
if self.startPage == 1:
	Page.set_prev(self, False)
else:
	Page.set_prev(self, True)
```

`Next`ê°€ ìˆì–´ì•¼ í•˜ëŠ” ê²½ìš°ëŠ” í˜„ì¬ `Pageê°ì²´`ê°€ ê°€ì§€ê³ ìˆëŠ” `endPage`ì™€ `PerPageNum`ì˜ ê³±ì´

DBì—ì„œ ì§‘ê³„ëœ ì´ ë°ì´í„°ì˜ ì–‘ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì„ ê²½ìš°ì—ë§Œ ì¡´ì¬í•˜ë„ë¡ í–ˆë‹¤.


```python
if self.endPage * self.perPage >= self.totalCount:
	Page.set_next(self, False)
else:
	Page.set_next(self, True)
```

ì‹¤ìŠµì—ì„œëŠ” ì´ë ‡ê²Œ ê³„ì‚°ëœ ê°’ë“¤ì„ ë‹¤ìŒê³¼ê°™ì´ ì‚¬ìš©í–ˆë‹¤.

```python
def list(request, no=1):
    page = Page()
    page.set_current(no)

    boardlist = Board.objects.all().order_by('-group_no', 'order_no')
		# ë¦¬ìŠ¤íŠ¸ì— ì¶œë ¥í•  ì „ì²´ í…Œì´ë¸”
    page.set_totalCount(len(boardlist))

    first = (page.current - 1) * page.perPage
    last = first + page.perPage

		boardlist = boardlist[first: last]

    data = {'boardlist': boardlist,
            'page': page,
            'iterator': range(page.startPage, page.endPage + 1)}

    return render(request, 'board/list.html', data)
```

`list()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí• ë•Œ í˜¸ì¶œí•˜ëŠ” í˜ì´ì§€ì˜ ê°’ì„ parameterë¡œ ë°›ê³ 

totalCountë¥¼ ì •í•¨ê³¼ ë™ì‹œì— `calcData()`ë¥¼ ì‹¤í–‰í•´ ì•ì„œ ê³„ì‚°í–ˆë˜ ê°’ë“¤ì„

Pageê°ì²´ì— ì„¸íŒ…í•´ì£¼ëŠ”ê²ƒ ì´ë‹¤.
